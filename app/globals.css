@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Fonts ──────────────────────────────────────────────────────────────────── */
/* Commit Mono: monospace backbone. Fraunces: display headlines. */
@import url('https://fonts.googleapis.com/css2?family=Commit+Mono:ital,wght@0,100..700;1,100..700&family=Fraunces:ital,opsz,wght@0,9..144,100..900;1,9..144,100..900&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap');

/* ── Design tokens ──────────────────────────────────────────────────────────── */
:root {
  /* GitHub-black shell */
  --gh-bg:          #010409;
  --gh-surface:     #0d1117;
  --gh-surface-2:   #161b22;
  --gh-surface-3:   #1c2128;
  --gh-border:      #30363d;
  --gh-border-muted:#21262d;

  /* Text */
  --gh-text:        #e6edf3;
  --gh-text-muted:  #8b949e;
  --gh-text-dim:    #484f58;

  /* Accents — terminal green, not github green */
  --green:          #39d353;
  --green-dim:      #0f2419;
  --green-muted:    #1a4228;
  --orange:         #f78166;
  --blue:           #58a6ff;
  --yellow:         #e3b341;
  --purple:         #bc8cff;
  --pink:           #ff7b72;

  /* Root / MF DOGE special color */
  --root:           #ffd700;
  --root-dim:       #2d2200;

  --radius:         6px;
  --font-mono:      'Commit Mono', 'JetBrains Mono', monospace;
  --font-display:   'Fraunces', Georgia, serif;
}

/* ── Reset ──────────────────────────────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; }

html {
  font-size: 14px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  scroll-behavior: smooth;
}

body {
  background: var(--gh-bg);
  color: var(--gh-text);
  font-family: var(--font-mono);
  font-size: 13px;
  line-height: 1.5;
  min-height: 100vh;
}

/* ── Scrollbar ──────────────────────────────────────────────────────────────── */
::-webkit-scrollbar { width: 8px; height: 8px; }
::-webkit-scrollbar-track { background: var(--gh-surface); }
::-webkit-scrollbar-thumb { background: var(--gh-border); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--gh-text-dim); }

/* ── Typography ─────────────────────────────────────────────────────────────── */
.font-mono    { font-family: var(--font-mono); }
.font-display { font-family: var(--font-display); }

/* ── GitHub-shell components ────────────────────────────────────────────────── */

/* Top nav bar */
.gh-nav {
  background: var(--gh-surface);
  border-bottom: 1px solid var(--gh-border);
  height: 48px;
  display: flex;
  align-items: center;
  padding: 0 16px;
  gap: 16px;
  position: sticky;
  top: 0;
  z-index: 100;
}

/* Repo header band */
.gh-repo-header {
  background: var(--gh-surface);
  border-bottom: 1px solid var(--gh-border);
  padding: 16px 24px;
}

/* Tab bar (like repo tabs: Code / Issues / PRs) */
.gh-tabs {
  display: flex;
  gap: 0;
  border-bottom: 1px solid var(--gh-border);
  background: var(--gh-surface);
  padding: 0 24px;
}

.gh-tab {
  padding: 8px 16px;
  font-size: 13px;
  color: var(--gh-text-muted);
  border-bottom: 2px solid transparent;
  cursor: pointer;
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: color 0.1s, border-color 0.1s;
  white-space: nowrap;
}

.gh-tab:hover { color: var(--gh-text); }

.gh-tab.active {
  color: var(--gh-text);
  border-bottom-color: var(--orange);
}

/* File-tree style table */
.gh-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 13px;
}

.gh-table th {
  background: var(--gh-surface-2);
  border: 1px solid var(--gh-border);
  padding: 8px 12px;
  text-align: left;
  color: var(--gh-text-muted);
  font-weight: 400;
}

.gh-table td {
  border: 1px solid var(--gh-border-muted);
  padding: 8px 12px;
  color: var(--gh-text);
}

.gh-table tr:hover td { background: var(--gh-surface-2); }

/* Code block */
.gh-code {
  background: var(--gh-surface-2);
  border: 1px solid var(--gh-border);
  border-radius: var(--radius);
  padding: 12px 16px;
  font-family: var(--font-mono);
  font-size: 12px;
  color: var(--gh-text);
  overflow-x: auto;
}

/* Commit hash pill */
.gh-sha {
  background: var(--gh-surface-3);
  border: 1px solid var(--gh-border);
  border-radius: 4px;
  padding: 1px 6px;
  font-size: 11px;
  color: var(--blue);
  font-family: var(--font-mono);
  cursor: pointer;
  text-decoration: none;
}

.gh-sha:hover { background: var(--gh-border); }

/* Branch pill */
.gh-branch-pill {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background: var(--gh-surface-3);
  border: 1px solid var(--gh-border);
  border-radius: 20px;
  padding: 2px 10px;
  font-size: 12px;
  color: var(--gh-text-muted);
}

/* Root / MFDOGE branch pill — gold */
.gh-branch-pill.root {
  border-color: var(--root);
  color: var(--root);
  background: var(--root-dim);
}

/* Group pill */
.gh-branch-pill.group {
  border-color: var(--purple);
  color: var(--purple);
  background: #1c1228;
}

/* Contribution bar (like the green activity graph) */
.contrib-bar {
  display: flex;
  gap: 2px;
  align-items: flex-end;
  height: 20px;
}

.contrib-cell {
  width: 10px;
  border-radius: 2px;
  background: var(--gh-surface-3);
  transition: background 0.2s;
}

.contrib-cell.l1 { background: #0f2419; }
.contrib-cell.l2 { background: #196c2e; }
.contrib-cell.l3 { background: #239a3b; }
.contrib-cell.l4 { background: #2dbc4e; }
.contrib-cell.l5 { background: var(--green); }

/* Stat badge */
.gh-stat {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  color: var(--gh-text-muted);
  font-size: 12px;
  text-decoration: none;
  padding: 2px 0;
}

.gh-stat:hover { color: var(--gh-text); }

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 5px 12px;
  border-radius: var(--radius);
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  text-decoration: none;
  border: 1px solid transparent;
  transition: background 0.12s, border-color 0.12s, color 0.12s;
  white-space: nowrap;
}

.btn-primary {
  background: #238636;
  border-color: #2ea043;
  color: #fff;
}
.btn-primary:hover { background: #2ea043; border-color: #3fb950; }

.btn-default {
  background: var(--gh-surface-3);
  border-color: var(--gh-border);
  color: var(--gh-text);
}
.btn-default:hover { background: var(--gh-surface-2); border-color: var(--gh-text-dim); }

.btn-root {
  background: var(--root-dim);
  border-color: var(--root);
  color: var(--root);
}
.btn-root:hover { background: #3d2f00; }

/* Avatar */
.avatar {
  border-radius: 50%;
  border: 1px solid var(--gh-border);
  flex-shrink: 0;
  object-fit: cover;
}

/* Sidebar panels */
.gh-sidebar-box {
  border: 1px solid var(--gh-border);
  border-radius: var(--radius);
  overflow: hidden;
  margin-bottom: 16px;
}

.gh-sidebar-box-header {
  background: var(--gh-surface-2);
  border-bottom: 1px solid var(--gh-border);
  padding: 8px 12px;
  font-size: 12px;
  font-weight: 600;
  color: var(--gh-text);
}

.gh-sidebar-box-body { padding: 12px; }

/* ── Leaderboard-specific ───────────────────────────────────────────────────── */

.rank-num {
  font-family: var(--font-mono);
  font-size: 18px;
  font-weight: 700;
  color: var(--gh-text-dim);
  width: 36px;
  text-align: right;
  flex-shrink: 0;
}

.rank-num.top { color: var(--root); }

/* Commit sparkline on leaderboard rows */
.sparkline {
  display: flex;
  gap: 1px;
  align-items: flex-end;
  height: 16px;
}

.spark-bar {
  width: 3px;
  border-radius: 1px;
  background: var(--gh-text-dim);
  transition: background 0.2s;
  min-height: 2px;
}

/* ── Profile iframe wrapper ─────────────────────────────────────────────────── */

.profile-shell {
  background: var(--gh-surface);
  border: 1px solid var(--gh-border);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(0,0,0,0.6);
}

.profile-frame {
  width: 100%;
  height: 100%;
  border: none;
  display: block;
  background: #fff;
}

/* ── Graph canvas container ─────────────────────────────────────────────────── */
.graph-container {
  background: var(--gh-surface);
  border: 1px solid var(--gh-border);
  border-radius: var(--radius);
  overflow: hidden;
  position: relative;
}

/* ── Animations ─────────────────────────────────────────────────────────────── */
@keyframes fadeSlideUp {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes pulse-slow {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.anim-in {
  animation: fadeSlideUp 0.3s ease both;
}

.pulse-slow { animation: pulse-slow 2s ease-in-out infinite; }

/* Stagger children */
.stagger > * { animation: fadeSlideUp 0.25s ease both; }
.stagger > *:nth-child(1)  { animation-delay: 0ms; }
.stagger > *:nth-child(2)  { animation-delay: 40ms; }
.stagger > *:nth-child(3)  { animation-delay: 80ms; }
.stagger > *:nth-child(4)  { animation-delay: 120ms; }
.stagger > *:nth-child(5)  { animation-delay: 160ms; }
.stagger > *:nth-child(6)  { animation-delay: 200ms; }
.stagger > *:nth-child(7)  { animation-delay: 240ms; }
.stagger > *:nth-child(8)  { animation-delay: 280ms; }
.stagger > *:nth-child(9)  { animation-delay: 320ms; }
.stagger > *:nth-child(10) { animation-delay: 360ms; }

/* ── Utility overrides ──────────────────────────────────────────────────────── */
a { color: inherit; text-decoration: none; }
a:hover { text-decoration: none; }

.text-green   { color: var(--green); }
.text-blue    { color: var(--blue); }
.text-orange  { color: var(--orange); }
.text-yellow  { color: var(--yellow); }
.text-purple  { color: var(--purple); }
.text-root    { color: var(--root); }
.text-muted   { color: var(--gh-text-muted); }
.text-dim     { color: var(--gh-text-dim); }

.bg-surface   { background: var(--gh-surface); }
.bg-surface-2 { background: var(--gh-surface-2); }
.border-gh    { border-color: var(--gh-border); }

/* Terminal cursor blink */
.cursor::after {
  content: '█';
  animation: pulse-slow 1s step-end infinite;
  color: var(--green);
}

/* Selection */
::selection {
  background: rgba(88, 166, 255, 0.25);
  color: var(--gh-text);
}
